(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"0f1f":function(e,t,n){"use strict";var a=n("e274"),r=n.n(a);r.a},abf1:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"column flex content-center justify-start"},[n("p",{staticClass:"text-body1 q-pl-lg q-pt-lg q-pr-lg"},[e._v("\n    "+e._s(e.$t("recentSwipes.pageDescription"))+"\n  ")]),n("recent-swipes-list")],1)},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q-pl-lg q-pa-md"},[n("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab",{attrs:{name:"doors",label:"Doors"}}),n("q-tab",{attrs:{name:"interlocks",label:"Interlocks"}})],1),n("q-separator"),n("q-tab-panels",{attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("q-tab-panel",{attrs:{name:"doors"}},[n("div",{staticClass:"row flex content-start justify-center"},[n("q-table",{staticClass:"table",attrs:{data:e.humanRecentDoorSwipes,columns:[{name:"user",label:"User",field:"user",sortable:!0},{name:"door",label:"Door",field:"name",sortable:!0},{name:"swipedAt",label:"Swiped At",field:"date",sortable:!0}],"row-key":"key",filter:e.filter,pagination:e.doorPagination,dense:e.$q.screen.lt.md,grid:e.$q.screen.xs,loading:e.loading},on:{"update:pagination":function(t){e.doorPagination=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[n("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:e.icons.search}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])})],1)]),n("q-tab-panel",{attrs:{name:"interlocks"}},[n("div",{staticClass:"row flex content-start justify-center"},[n("q-table",{attrs:{data:e.humanRecentInterlockSwipes,columns:[{name:"userOn",label:"Turned On By",field:"userOn",sortable:!0},{name:"door",label:"Interlock",field:"name",sortable:!0},{name:"sessionStart",label:"Turned On At",field:"sessionStart",sortable:!0},{name:"userOff",label:"Turned Off By",field:"userOff",sortable:!0},{name:"sessionEnd",label:"Turned Off At",field:"sessionEnd",sortable:!0}],"row-key":"key",filter:e.filter,pagination:e.interlockPagination,dense:e.$q.screen.lt.md,grid:e.$q.screen.xs,loading:e.loading},on:{"update:pagination":function(t){e.interlockPagination=t}},scopedSlots:e._u([{key:"top-right",fn:function(){return[n("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{attrs:{name:e.icons.search}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0}])})],1)])],1)],1)},o=[],i=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("7f7f"),n("c47a")),l=n.n(i),c=n("2f62"),u=n("c1df"),d=n.n(u),f=n("985d");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={name:"RecentSwipesList",data:function(){return{tab:"doors",loading:!1,updateInterval:null,filter:"",doorPagination:{sortBy:"desc",descending:!1,rowsPerPage:this.$q.screen.xs?3:8},interlockPagination:{sortBy:"desc",descending:!1,rowsPerPage:this.$q.screen.xs?2:8}}},methods:b({},Object(c["b"])("tools",["getRecentSwipes"])),mounted:function(){var e=this;this.loading=!0,this.getRecentSwipes().then((function(){e.loading=!1})),this.updateInterval=setInterval((function(){e.getRecentSwipes()}),3e4)},destroyed:function(){clearInterval(this.updateInterval)},computed:b({},Object(c["c"])("tools",["recentSwipes"]),{icons:function(){return f["a"]},humanRecentDoorSwipes:function(){return this.recentSwipes.doors?this.recentSwipes.doors.map((function(e){var t=d.a.utc(e.date).local().format("Do MMM YYYY, h:mm a");return{key:e.user+e.date,user:e.user,date:t,name:e.name}})):[]},humanRecentInterlockSwipes:function(){var e=this;return this.recentSwipes.interlocks?this.recentSwipes.interlocks.map((function(t){var n=d.a.utc(t.sessionStart).local().format("Do MMM YYYY, h:mm a"),a=d.a.utc(t.sessionEnd).local().format("Do MMM YYYY, h:mm a");return{name:t.name,userOn:t.userOn,sessionStart:n,userOff:null===t.userOff?e.$t("recentSwipes.timedOut"):t.userOff,sessionEnd:t.sessionComplete?a:e.$t("recentSwipes.inProgress")}})):[]}})},g=m,w=(n("0f1f"),n("2877")),y=n("eebe"),h=n.n(y),O=n("429b"),S=n("7460"),v=n("eb85"),k=n("adad"),q=n("823b"),P=n("eaac"),j=n("27f9"),x=n("0016"),D=Object(w["a"])(g,s,o,!1,null,"62df1418",null),Y=D.exports;h()(D,"components",{QTabs:O["a"],QTab:S["a"],QSeparator:v["a"],QTabPanels:k["a"],QTabPanel:q["a"],QTable:P["a"],QInput:j["a"],QIcon:x["a"]});var I={name:"RecentSwipesPage",components:{RecentSwipesList:Y}},$=I,R=n("9989"),_=Object(w["a"])($,a,r,!1,null,null,null);t["default"]=_.exports;h()(_,"components",{QPage:R["a"]})},e274:function(e,t,n){}}]);
//# sourceMappingURL=12.js.map