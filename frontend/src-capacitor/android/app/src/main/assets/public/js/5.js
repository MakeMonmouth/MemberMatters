(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{1817:function(t,e,n){},"1a02":function(t,e,n){"use strict";var a=n("c2b0"),r=n.n(a);r.a},"3ed7":function(t,e,n){"use strict";var a=n("1817"),r=n.n(a);r.a},c2b0:function(t,e,n){},e022:function(t,e,n){"use strict";var a=n("c1df"),r=n.n(a);e["a"]={methods:{formatCsvList:function(t){return t.map((function(e,n){return t.length===n+1?e:"".concat(e,", ")}))},formatDate:function(t){return r.a.utc(t).local().format("Do MMM YYYY, h:mm a")}}}},e5b7:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"column flex content-center justify-start"},[n("meetings-list")],1)},r=[],o=function(){var t=this,e=this,n=e.$createElement,a=e._self._c||n;return a("q-table",{attrs:{data:e.meetings,columns:[{name:"type",label:"Type",field:"type",sortable:!0},{name:"date",label:"Date",field:"date",sortable:!0,format:function(e,n){return t.formatDate(e)}},{name:"chair",label:"Chair",field:"chair",sortable:!0},{name:"attendeeCount",label:"Attendees",field:"attendeeCount",sortable:!0}],"row-key":"id",filter:e.filter,pagination:e.pagination,loading:e.loading},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top-left",fn:function(){return[a("q-btn",{attrs:{color:"accent",icon:e.icons.add,label:e.$t("meetingForm.newMeeting")},on:{click:function(t){e.newMeeting=!0}}}),a("q-dialog",{attrs:{persistent:""},model:{value:e.newMeeting,callback:function(t){e.newMeeting=t},expression:"newMeeting"}},[a("meeting-form")],1)]},proxy:!0},{key:"top-right",fn:function(){return[a("q-input",{attrs:{outlined:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:e.icons.search}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"header",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-th",{attrs:{"auto-width":""}}),e._l(t.cols,(function(n){return a("q-th",{key:n.name,attrs:{props:t}},[e._v("\n        "+e._s(n.label)+"\n      ")])}))],2)]}},{key:"body",fn:function(t){return[a("q-tr",{attrs:{props:t}},[a("q-td",{attrs:{"auto-width":""}},[a("q-btn",{attrs:{size:"sm",color:"accent",round:"",dense:"",icon:t.expand?e.icons.down:e.icons.up},on:{click:function(e){t.expand=!t.expand}}})],1),e._l(t.cols,(function(n){return a("q-td",{key:n.name,attrs:{props:t}},[e._v("\n        "+e._s(n.value)+"\n      ")])}))],2),a("q-tr",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"props.expand"}],attrs:{props:t}},[a("q-td",{attrs:{colspan:"100%"}},[a("div",{staticClass:"text-left proxy-votes"},[a("h5",{staticClass:"q-ma-md"},[e._v("\n            "+e._s(e.$t("meetings.proxyVotes"))+"\n          ")]),a("q-markup-table",[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("\n                  "+e._s(e.$t("meetings.memberName"))+"\n                ")]),a("th",{staticClass:"text-right"},[e._v("\n                  "+e._s(e.$t("meetings.proxy"))+"\n                ")]),a("th",{staticClass:"text-right"},[e._v("\n                  "+e._s(e.$t("meetings.dateAssigned"))+"\n                ")])])]),a("tbody",e._l(t.row.proxyList,(function(t){return a("tr",{key:t.name},[a("td",{staticClass:"text-left"},[e._v("\n                  "+e._s(t.name)+"\n                ")]),a("td",{staticClass:"text-right"},[e._v("\n                  "+e._s(t.proxyName)+"\n                ")]),a("td",{staticClass:"text-right"},[e._v("\n                  "+e._s(e.formatDate(t.date))+"\n                ")])])})),0)])],1),a("div",{staticClass:"text-left attendees"},[a("h5",{staticClass:"q-pa-md q-ma-none"},[e._v("\n            "+e._s(e.$t("meetings.attendees"))+"\n          ")]),a("p",{staticClass:"q-px-md"},e._l(t.row.attendees,(function(t){return a("span",{key:t},[e._v("\n              "+e._s(t)+",\n            ")])})),0)])])],1)]}}])})},s=[],i=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("456d"),n("551c"),n("06db"),n("097d"),n("c47a")),c=n.n(i),l=n("2f62"),u=n("985d"),p=n("e022"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("\n      New Meeting\n    ")])]),n("q-card-section",[n("p",[t._v("\n      "+t._s(t.$t("meetingForm.pageDescription"))+"\n    ")]),n("q-form",{ref:"formRef",on:{submit:t.submitMeeting}},[n("q-select",{staticClass:"q-mb-md",attrs:{outlined:"",label:t.$t("form.meetingType"),options:t.meetingTypes,rules:[function(e){return t.validateNotEmpty(e)||t.$t("validation.cannotBeEmpty")}],disable:t.form.success},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}}),"group"===t.form.type.value?n("q-select",{staticClass:"q-mb-md",attrs:{outlined:"",label:t.$t("group"),options:t.groups,"option-value":"id","option-label":"name",rules:[function(e){return t.validateNotEmpty(e)||t.$t("validation.cannotBeEmpty")}],disable:t.form.success},model:{value:t.form.group,callback:function(e){t.$set(t.form,"group",e)},expression:"form.group"}}):t._e(),n("q-input",{staticClass:"q-mb-sm",attrs:{outlined:"",label:t.$t("form.dateTime"),mask:"####-##-## ##:##",rules:[function(e){return t.validateNotEmpty(e)||t.$t("validation.cannotBeEmpty")},function(e){return t.validateFutureDateTime(e)||t.$t("validation.futureDate")}],disable:t.form.success},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.icons.calendar}},[n("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-date",{attrs:{mask:"YYYY-MM-DD HH:mm",options:t.validateFutureDate,disable:t.form.success},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}},[n("div",{staticClass:"row items-center justify-end q-gutter-sm"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"primary",flat:""}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary",flat:""}})],1)])],1)],1),n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.icons.clock}},[n("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-time",{attrs:{mask:"YYYY-MM-DD HH:mm",disable:t.form.success},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}},[n("div",{staticClass:"row items-center justify-end q-gutter-sm"},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"primary",flat:""}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}}),n("q-input",{attrs:{outlined:"",debounce:t.debounceLength,label:t.$t("form.chair"),rules:[function(e){return t.validateNotEmpty(e)||t.$t("validation.cannotBeEmpty")}],disable:t.form.success},model:{value:t.form.chair,callback:function(e){t.$set(t.form,"chair",e)},expression:"form.chair"}}),t.form.success?n("q-banner",{staticClass:"bg-positive text-white q-my-md"},[t._v("\n        "+t._s(t.$t("meetingForm.success"))+"\n      ")]):t._e(),t.form.error?n("q-banner",{staticClass:"bg-negative text-white q-my-md"},[t._v("\n        "+t._s(t.$t("meetingForm.fail"))+"\n      ")]):t._e(),t.form.success?n("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.$t("button.close")}})],1):n("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:t.$t("button.cancel"),disable:t.loading}}),n("q-btn",{attrs:{flat:"",label:t.$t("button.submit"),loading:t.loading,disable:t.loading,type:"submit"}})],1)],1)],1)],1)},d=[],f=(n("c5f6"),n("c1df")),b=n.n(f),g=n("9744");function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=b()(),q={name:"MeetingForm",mixins:[g["a"]],props:{meetingId:{type:Number,default:null}},data:function(){return{loading:!1,form:{error:!1,success:!1,type:"",group:"",date:h.minute()||h.second()||h.millisecond()?h.add(1,"hour").startOf("hour").format("YYYY-MM-DD HH:mm"):h.startOf("hour").format("YYYY-MM-DD HH:mm"),chair:""}}},methods:v({},Object(l["b"])("adminTools",["getMeetings","getMeetingTypes"]),{submitMeeting:function(){var t=this;this.loading=!0,this.$axios.post("/api/meetings/",this.form).then((function(){t.form.error=!1,t.form.success=!0,t.getMeetings()})).catch((function(){t.form.error=!0})).finally((function(){t.loading=!1}))}}),beforeMount:function(){this.getMeetingTypes(),h=b()()},computed:v({},Object(l["c"])("adminTools",["meetings","meetingTypes"]),{},Object(l["c"])("config",["groups"]),{icons:function(){return u["a"]}})},x=q,w=(n("3ed7"),n("2877")),O=n("eebe"),_=n.n(O),C=n("f09f"),j=n("a370"),M=n("0378"),$=n("ddd8"),k=n("27f9"),D=n("0016"),P=n("7cbe"),Q=n("52ee"),Y=n("9c40"),T=n("ca78"),E=n("54e1"),N=n("4b7e"),S=n("7f67"),F=Object(w["a"])(x,m,d,!1,null,null,null),B=F.exports;function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}_()(F,"components",{QCard:C["a"],QCardSection:j["a"],QForm:M["a"],QSelect:$["a"],QInput:k["a"],QIcon:D["a"],QPopupProxy:P["a"],QDate:Q["a"],QBtn:Y["a"],QTime:T["a"],QBanner:E["a"],QCardActions:N["a"]}),_()(F,"directives",{ClosePopup:S["a"]});var L={name:"MeetingsList",components:{MeetingForm:B},mixins:[p["a"]],data:function(){return{filter:"",loading:!1,updateInterval:null,newMeeting:!1,pagination:{sortBy:"date",descending:!0,rowsPerPage:this.$q.screen.xs?8:12}}},methods:I({},Object(l["b"])("adminTools",["getMeetings"])),mounted:function(){var t=this;this.loading=!0,this.getMeetings().finally((function(){t.loading=!1}))},computed:I({},Object(l["c"])("adminTools",["meetings"]),{icons:function(){return u["a"]}})},A=L,J=(n("1a02"),n("eaac")),K=n("24e8"),z=n("bd08"),R=n("357e"),V=n("db86"),G=n("2bb1"),U=Object(w["a"])(A,o,s,!1,null,"7a7da7d8",null),W=U.exports;_()(U,"components",{QTable:J["a"],QBtn:Y["a"],QDialog:K["a"],QInput:k["a"],QIcon:D["a"],QTr:z["a"],QTh:R["a"],QTd:V["a"],QMarkupTable:G["a"]});var X={name:"MeetingsPage",components:{MeetingsList:W}},Z=X,tt=n("9989"),et=Object(w["a"])(Z,a,r,!1,null,null,null);e["default"]=et.exports;_()(et,"components",{QPage:tt["a"]})}}]);
//# sourceMappingURL=5.js.map