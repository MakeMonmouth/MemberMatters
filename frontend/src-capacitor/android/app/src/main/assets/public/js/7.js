(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"21b0":function(e,t,n){"use strict";var r=n("3f2e"),o=n.n(r);o.a},"3f2e":function(e,t,n){},"856c":function(e,t,n){"use strict";var r=n("94df"),o=n.n(r);o.a},"94df":function(e,t,n){},b8ba:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"row flex content-start justify-center"},[n("proxy-form")],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"column flex items-center justify-center"},[n("p",{staticClass:"page-description"},[e._v("\n    "+e._s(e.$t("proxyForm.pageDescription"))+"\n  ")]),n("div",{staticClass:"row flex items-start justify-center"},[n("proxy-card",{staticClass:"q-ma-md",attrs:{"proxy-card-info":e.proxyCardInfo}}),n("div",{staticClass:"q-ma-md"},[n("q-form",{ref:"formRef",on:{submit:e.submitProxy}},[n("q-input",{staticClass:"q-mb-sm",attrs:{outlined:"",label:e.$t("proxyForm.yourCity"),rules:[function(t){return e.validateNotEmpty(t)||e.$t("validation.cannotBeEmpty")}]},model:{value:e.memberCity,callback:function(t){e.memberCity=t},expression:"memberCity"}}),n("q-select",{staticClass:"q-mb-lg",attrs:{outlined:"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"0",label:e.$t("proxyForm.proxyName"),options:e.memberNames,"option-value":"id","option-label":"name"},on:{filter:e.filterNames},scopedSlots:e._u([{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",{staticClass:"text-grey"},[e._v("\n                "+e._s(e.$t("form.noResults"))+"\n              ")])],1)]},proxy:!0}]),model:{value:e.proxy.member,callback:function(t){e.$set(e.proxy,"member",t)},expression:"proxy.member"}}),n("q-input",{staticClass:"q-mb-sm",attrs:{outlined:"",label:e.$t("proxyForm.proxyCity"),rules:[function(t){return e.validateNotEmpty(t)||e.$t("validation.cannotBeEmpty")}]},model:{value:e.proxy.city,callback:function(t){e.$set(e.proxy,"city",t)},expression:"proxy.city"}}),n("q-select",{staticClass:"q-mb-md",staticStyle:{width:"250px"},attrs:{outlined:"",label:e.$t("proxyForm.meeting"),options:e.displayUpcomingMeetings,rules:[function(t){return e.validateNotEmpty(t)||e.$t("validation.cannotBeEmpty")}],"option-label":"selectName","option-value":"id"},scopedSlots:e._u([{key:"no-option",fn:function(){return[n("q-item",[n("q-item-section",{staticClass:"text-grey"},[e._v("\n                "+e._s(e.$t("proxyForm.noMeetings"))+"\n              ")])],1)]},proxy:!0}]),model:{value:e.meeting,callback:function(t){e.meeting=t},expression:"meeting"}}),e.form.success?n("q-banner",{staticClass:"bg-positive text-white q-my-md"},[e._v("\n          "+e._s(e.$t("meetingForm.success"))+"\n        ")]):e._e(),e.form.error?n("q-banner",{staticClass:"bg-negative text-white q-my-md"},[e._v("\n          "+e._s(e.$t("meetingForm.fail"))+"\n        ")]):e._e(),n("q-btn",{attrs:{label:e.$t("button.submit"),loading:e.loading,disable:e.loading,color:"primary-btn",type:"submit"}})],1)],1)],1)])},s=[],a=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("7f7f"),n("c47a")),c=n.n(a),m=n("2f62"),p=n("985d"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",{staticClass:"q-pa-md card"},[n("i18n",{attrs:{path:"proxyForm.proxyTo",tag:"p"},scopedSlots:e._u([{key:"siteOwner",fn:function(){return[n("span",[e._v(e._s(e.siteOwner))])]},proxy:!0}])}),n("i18n",{attrs:{path:"proxyForm.proxyBody",tag:"p"},scopedSlots:e._u([{key:"memberName",fn:function(){return[n("span",{staticClass:"proxy-field"},[e._v(e._s(e.profile.fullName))])]},proxy:!0},{key:"memberCity",fn:function(){return[n("span",{staticClass:"proxy-field"},[e._v(e._s(e.proxyCardInfo.memberCity))])]},proxy:!0},{key:"proxyName",fn:function(){return[n("span",{staticClass:"proxy-field"},[e._v(e._s(e.proxyCardInfo.proxy.name))])]},proxy:!0},{key:"proxyCity",fn:function(){return[n("span",{staticClass:"proxy-field"},[e._v(e._s(e.proxyCardInfo.proxy.city))])]},proxy:!0},{key:"meetingName",fn:function(){return[n("span",{staticClass:"proxy-field"},[e._v(e._s(e.proxyCardInfo.meeting.name))])]},proxy:!0},{key:"meetingDate",fn:function(){return[n("span",{staticClass:"proxy-field"},[e._v(e._s(e.proxyCardInfo.meeting.date))])]},proxy:!0}])}),n("i18n",{attrs:{path:"proxyForm.proxySignature",tag:"p"},scopedSlots:e._u([{key:"memberName",fn:function(){return[n("span",{staticClass:"proxy-field"},[e._v(e._s(e.profile.fullName))])]},proxy:!0},{key:"currentDate",fn:function(){return[n("span",{staticClass:"proxy-field"},[e._v(e._s(e.currentDate))])]},proxy:!0}])})],1)},u=[],y=n("c1df"),f=n.n(y);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={name:"ProxyCard",props:{proxyCardInfo:{type:Object,default:function(){}}},computed:d({},Object(m["c"])("config",["siteOwner"]),{},Object(m["c"])("profile",["profile"]),{currentDate:function(){return f()().format("Do MMMM YYYY")},icons:function(){return p["a"]}})},_=x,g=(n("21b0"),n("2877")),v=n("eebe"),C=n.n(v),O=n("f09f"),h=Object(g["a"])(_,l,u,!1,null,"4a8caeff",null),j=h.exports;C()(h,"components",{QCard:O["a"]});var w=n("9744");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={name:"ProxyForm",components:{ProxyCard:j},mixins:[w["a"]],data:function(){return{memberNames:[],loading:!1,form:{success:!1,fail:!1},proxy:{member:"",city:""},meeting:"",memberCity:""}},methods:q({},Object(m["b"])("tools",["getMembers","getUpcomingMeetings"]),{submitProxy:function(){this.$axios.post("api/proxy/",{meeting:this.meeting.id,memberCity:this.memberCity,proxy:this.proxy.member.id,proxyCity:this.proxy.city})},filterNames:function(e,t){var n=this;t((function(){var t=e.toLowerCase();n.memberNames=n.members.filter((function(e){return e.name.toLowerCase().indexOf(t)>-1&&e.name!==n.profile.fullName}))}))}}),mounted:function(){this.getMembers(),this.getUpcomingMeetings()},computed:q({},Object(m["c"])("config",["siteOwner"]),{},Object(m["c"])("profile",["profile"]),{},Object(m["c"])("tools",["members","upcomingMeetings"]),{icons:function(){return p["a"]},displayUpcomingMeetings:function(){return this.upcomingMeetings.map((function(e){return{selectName:"".concat(e.name," (").concat(e.date,")"),name:e.name,id:e.id,date:e.date}}))},proxyCardInfo:function(){return{proxy:{name:this.proxy.member?this.proxy.member.name:"_______",city:this.proxy.city?this.proxy.city:"_______"},meeting:{name:this.meeting.name?this.meeting.name:"_______",date:this.meeting.date?this.meeting.date:"_______"},memberCity:this.memberCity?this.memberCity:"_______"}}})},$=k,N=(n("856c"),n("0378")),D=n("27f9"),F=n("ddd8"),E=n("66e5"),M=n("4074"),S=n("54e1"),I=n("9c40"),Q=Object(g["a"])($,i,s,!1,null,"132a91bc",null),B=Q.exports;C()(Q,"components",{QForm:N["a"],QInput:D["a"],QSelect:F["a"],QItem:E["a"],QItemSection:M["a"],QBanner:S["a"],QBtn:I["a"]});var U={name:"ProxyPage",components:{ProxyForm:B}},Y=U,J=n("9989"),L=Object(g["a"])(Y,r,o,!1,null,null,null);t["default"]=L.exports;C()(L,"components",{QPage:J["a"]})}}]);
//# sourceMappingURL=7.js.map